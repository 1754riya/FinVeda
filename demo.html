<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
    <style>
        /* Basic styles for the blog layout */
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            padding: 0;
        }
        #search-input {
            margin-bottom: 20px;
            padding: 10px;
            width: 100%;
            max-width: 400px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        #filtered-blogs {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        .card {
            border: 1px solid #ccc;
            border-radius: 4px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        .card-image {
            width: 100%;
            height: auto;
        }
        .card-content {
            padding: 15px;
        }
        .card-title {
            font-size: 1.5em;
            margin: 0 0 10px;
        }
        .card-excerpt {
            margin: 10px 0;
        }
        .card-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 15px;
        }
        #create-blog-form {
            margin-bottom: 20px;
        }
        #create-blog-form input, #create-blog-form textarea {
            display: block;
            width: 100%;
            margin-bottom: 10px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        #create-blog-form button {
            padding: 10px 15px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        #create-blog-form button:hover {
            background-color: #0056b3;
        }
        .share-buttons {
            display: flex;
            gap: 10px;
        }
        .share-buttons a {
            padding: 5px 10px;
            background-color: #007bff;
            color: white;
            border-radius: 4px;
            text-decoration: none;
        }
        .share-buttons a:hover {
            background-color: #0056b3;
        }
        .delete-button {
            padding: 5px 10px;
            background-color: #dc3545;
            color: white;
            border-radius: 4px;
            cursor: pointer;
            text-decoration: none;
        }
        .delete-button:hover {
            background-color: #c82333;
        }
    </style>
</head>
<body>

    <!-- Form to create a new blog -->
    <form id="create-blog-form">
        <h2>Create New Blog</h2>
        <input type="text" id="blog-title" placeholder="Blog Title" required>
        <textarea id="blog-excerpt" rows="4" placeholder="Blog Excerpt" required></textarea>
        <input type="file" id="blog-image" accept="image/*" required>
        <button type="submit">Add Blog</button>
    </form>

    <input type="text" id="search-input" placeholder="Search blogs...">
    <div id="filtered-blogs"></div>

    <script>
        const blogs = [];

        function displayBlogs(blogsToDisplay) {
            const filteredBlogsContainer = document.getElementById('filtered-blogs');
            filteredBlogsContainer.innerHTML = '';

            blogsToDisplay.forEach((post, index) => {
                const blogHTML = `
                <article class="card">
                    <img src="${post.featuredImage}" alt="${post.title}" class="card-image" onerror="this.onerror=null; this.src='/placeholder.svg?height=200&width=400';">
                    <div class="card-content">
                        <h2 class="card-title">${post.title}</h2>
                        <p class="card-excerpt">${post.excerpt}</p>
                        <div class="share-buttons">
                            <a href="https://twitter.com/share?text=${encodeURIComponent(post.title)}&url=${encodeURIComponent(location.href)}" target="_blank"><i class="fa-solid fa-share-nodes"></i>Twitter</a>
                            <a href="https://www.instagram.com/share?url=${encodeURIComponent(location.href)}" target="_blank"><i class="fa-solid fa-share-nodes"></i>Instagram</a>
                            <a href="https://www.linkedin.com/shareArticle?mini=true&url=${encodeURIComponent(location.href)}&title=${encodeURIComponent(post.title)}" target="_blank"><i class="fa-solid fa-share-nodes"></i>sLinkedIn</a>
                        </div>
                        <div class="card-footer">
                            <time datetime="${post.createdAt}">${formatDate(post.createdAt)}</time>
                            <button class="delete-button" onclick="deleteBlog(${index})">Delete</button>
                        </div>
                    </div>
                </article>
                `;
                filteredBlogsContainer.innerHTML += blogHTML;
            });
        }

        function deleteBlog(index) {
            blogs.splice(index, 1);
            displayBlogs(blogs);
        }

        document.getElementById('create-blog-form').addEventListener('submit', function (event) {
            event.preventDefault();
            const title = document.getElementById('blog-title').value;
            const excerpt = document.getElementById('blog-excerpt').value;
            const imageFile = document.getElementById('blog-image').files[0];

            const reader = new FileReader();
            reader.onloadend = function () {
                const newBlogPost = {
                    title: title,
                    excerpt: excerpt,
                    featuredImage: reader.result,
                    createdAt: new Date().toISOString()
                };
                blogs.push(newBlogPost);
                displayBlogs(blogs);
                document.getElementById('create-blog-form').reset();
            };

            if (imageFile) {
                reader.readAsDataURL(imageFile);
            }
        });

        document.getElementById('search-input').addEventListener('input', function () {
            const searchQuery = this.value.toLowerCase();
            const filteredPosts = blogs.filter(post =>
                post.title.toLowerCase().includes(searchQuery)
            );
            displayBlogs(filteredPosts);
        });

        function formatDate(date) {
            return new Date(date).toLocaleDateString('en-US', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
        }
    </script>

</body>
</html>
